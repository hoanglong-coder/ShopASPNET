
@{
    ViewBag.Title = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

@section scripts{
    <script src="~/Assets/Admin/plugins/select2/js/select2.full.min.js"></script>
    <script src="~/Assets/Admin/plugins/sweetalert2/sweetalert2.js"></script>
    <script src="~/Assets/Admin/plugins/mustache.min.js"></script>
    <script src="~/Assets/Admin/dist/js/jquery.twbsPagination.js"></script>
    <script src="~/Assets/Admin/plugins/jquery-validation/jquery.validate.js"></script>
    <script src="~/Assets/Admin/plugins/moment/moment.min.js"></script>
    <link href="~/Assets/Admin/plugins/daterangepicker/daterangepicker.css" rel="stylesheet" />
    <script src="~/Assets/Admin/plugins/daterangepicker/daterangepicker.js"></script>
    <script src="~/Assets/Admin/dist/js/pages/admin-topk-index.js"></script>

}


<button type="button" class="btn btn-primary" id="CreateTxt"><i class="fas fa-plus"></i>Ghi db ra file txt</button>

<div class="form-group">
    <label for="exampleFormControlFile1">File txt database</label>
    <input type="file" class="form-control-file" id="filepath">
</div>
<input type="number" class="form-control" id="TOPK" placeholder="Nhập TOP-K cần tìm " required>
<button type="button" class="btn btn-primary" id="actiontopk"><i class="fas fa-plus"></i>Tim top k</button>

<div class="form-group">
    <label for="exampleFormControlFile1">Đọc file</label>
    <input type="file" class="form-control-file" id="outputpath">
</div>
<button type="button" class="btn btn-primary" id="readfile"><i class="fas fa-plus"></i>Đọc file txt</button>


<!--Table-->
<div class="row">
    <div class="col-sm-12">
        <table class="table table-bordered table-hover" id="tbl-data">
            <thead class="thead-light">
                <tr>
                    <th>#</th>
                    <th>STT</th>
                    <th>Độ hữu ích</th>
                </tr>
            </thead>
            <tbody id="tbtopk">
            </tbody>
        </table>
        <ul id="paginationproduct" class="pagination"></ul>
        <script id="data-templatetopk" type="x-tmpl-mustache">
                                            <tr>
                                                <td><a class="actionViewTOPKDetail" data-id="{{STT}}" style="margin-left:5px" data-toggle="tooltip" data-placement="top" title="Xem chi tiết phiếu nhập"><i class="fas fa-eye"></i></a></td>
                                                <td>{{STT}}</td>
                                                <td>{{PU}}</td>
                                            </tr>
        </script>
    </div>
</div>


<!-- Modal danh sách sản phẩm -->
<div class="modal fade" id="Modaldetailtopk" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" style="max-width: 1300px!important" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #01A65B;color:white">
                <h5>DANH SÁCH SẢN PHẨM</h5>
            </div>
            <div class="modal-body">
                <!--Table-->
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table table-bordered table-hover" id="tbl-data">
                            <thead class="thead-light">
                                <tr>
                                    <th>STT</th>
                                    <th>Mã sản phẩm</th>
                                    <th>Tên sản phẩm</th>
                                    <th>ĐVT</th>
                                    <th>SL tồn</th>
                                    <th>Giá bán lẻ</th>
                                    <th>Giá bán lẻ <i class="fas fa-arrow-down"></i></th>
                                    <th>Giá bán sỉ</th>
                                    <th>Giá bán sỉ <i class="fas fa-arrow-down"></i></th>
                                    <th>Nhà cung cấp</th>
                                    <th>Loại sản phẩm</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="3" style="font-weight:bold">Tổng kho:</td>
                                    <td colspan="2" style="text-align:right;font-weight:bold" id="TongKho">3</td>
                                </tr>
                            </tbody>
                            <tbody id="tbProduct">
                            </tbody>
                        </table>
                        <ul id="paginationproduct" class="pagination"></ul>
                        <script id="data-templateProduct" type="x-tmpl-mustache">
                                            <tr>
                                                <td>{{STT}}</td>
                                                <td>{{ProductID}}</td>
                                                <td>{{ProductName}}</td>
                                                <td>{{UnitName}}</td>
                                                <td style="text-align: right;">{{Count}}</td>
                                                <td style="text-align: right;">{{PriceOutput}}</td>
                                                <td style="text-align: right;">{{PricePromotion}}</td>
                                                <td style="text-align: right;">{{Pricewholesale}}</td>
                                                <td style="text-align: right;">{{PricewholesalePromotion}}</td>
                                                <td>{{SupplierName}}</td>
                                                <td>{{CategoryName}}</td>
                                            </tr>
                        </script>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section headerBig{
    Chức năng tìm TOP-K
}

@section headersmall{
    Chức năng tìm TOP-K
}



